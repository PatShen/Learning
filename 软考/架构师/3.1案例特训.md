# 通信系统架构
## 架构类别

* 局域网
* 广域网
* 移动通信网

### 存储网络架构
* 直连式存储（DAS）
  * 服务器直连存储
* 网络附加存储（NAS）
  * 增加文件服务器，有OS专门处理文件存储
  * 基于以太网
  * 可以用于集中管理存储
  * 供给多主机共享存储
  * 注重易用性、易管理性、可扩展性、低成本
* 存储区域网络（SAN）
  * 某个区域专门用作存储
  * 基于以太网、光纤
  * 可以用于集中管理存储
  * 供给多主机共享存储
  * 注重高性能、低延迟
* 软件定义网络架构（Software Definded Network，SDN）
  * 将网络设备的控制面与数据面分离开来，实现网络流量的灵活控制
  * 控制面：SDN控制器，掌握了全局的网络信息
  * 数据面：交换机、路由器等物理硬件，单纯负责数据转发
  * 应用面：在网络上运行的应用，用户无需关注底层细节就可以编程、部署应用

## 网络构建的关键技术
* SDN技术
  * 控制平面技术
  * 数据平面技术
  * 转发规则一致性更新技术
* 高可用
  * 网络部件
  * 网络连接模型
  * 网络协议及配置
* IPv4与IPv6融合组网
  * 双协议栈：通信过程中插入节点，同时支持IPv4和IPv6
  * 隧道技术：在IPv6中封装IPv4相关信息，使之能从v6->v4。6to4，4over6，ISATAP。
  * 网络地址翻译技术

## 网络构建和设计

* 网络安全
  * 防火墙部署
  * VPN技术
  * 访问控制技术
  * 网络安全隔离
  * 网络安全协议
  * 网络安全审议
  * 态势感知：基于大数据分析，根据现有安全状态，预测可能出现的问题，发出预警。
* 绿色网络
  * 标准化
  * 集成化
  * 虚拟化
  * 智能化
  * 权限性
  * 可靠性

### 高可用网络构建
  * 可靠性由组成网络的各个部件稳定提供持续性服务保证
  * 单独提升每个部件的可靠性即可提升整体的稳定性
  * 可用性由各个部件相互协同、冗余备份等提供
  * 需要通过复杂的网络连接来保证

```
高可用的基本思想：
增加冗余设备
增加冗余线路连接
```
 
#### 接入层
特征：
* 使用冗余引擎和冗余电源获得系统级冗余，为关键用户群提供高可靠性。
* 与具备冗余系统的汇聚层采用双归属连接，获得默认网关冗余，支持在汇聚层的主备交换机间快速实现故障切换。
* 通过链路汇聚提供带宽的利用率，同时降低复杂度
* 通过配置802.1x，动态ARP检查及IP源地址保护等功能增加安全性，防止非法访问。

#### 汇聚层
* 三角形连接：从汇聚层到核心层具有全冗余链路和转发路径
  * 故障收敛时间小
  * 要占用更多设备端口，成本较高
* 矩形连接：非全冗余链路。当主路径故障时，需要通过路由协议计算获得从汇聚层到核心层的其他路径。

#### 核心层
* 需要能提供高速数据交换能力和极高的持久性，考虑部署双核心或多核心（冗余）设备，以主备或负荷分担方式工作。
* 单台设备：选用交换性能高和可靠性高的设备，支持主控、电源冗余设计，具备分布式转发特征，降低设备复杂度，减少出错概率。
* 尽量在核心层采用冗余的点到点L3互联，提供最快速和确定的收敛结果。

## 层次化网络设计

### 接入层、汇聚层、核心层的功能
* 核心层：提供不同区域或者下层的高速连接和最有传输路径。最靠近用户，常用冗余机制。
* 汇聚层：将网络业务连接到接入层，执行与安全、流量负载、路由相关的策略
* 接入层：为局域网接入广域网，或终端用户访问网络提供接入能力

### 从层次化网络的三个层次，分别说明如何构建高可用网络
> 硬件冗余、路径冗余、动态路由等维度描述

* 核心层
  * 硬件冗余
    * 双核心或多核心设备
    * 单台设备：选用交换性能高和可靠性高的设备，支持主控、电源冗余设计，具备分布式转发特征，降低设备复杂度，减少出错概率。
  * 路径（线路）冗余
    * 以主备或负载分担方式工作
    * 只使用硬件加速业务的高速第三层（L3）交换环境，发生在链路或节点故障时提供更快的收敛速度
    * 尽量使用点到点（三角形）L3互联，提供最快速和确定的收敛结果。
* 汇聚层
  * 硬件冗余
    * 具备冗余系统
  * 路径冗余
    * 到核心层间采用OSPF等动态路由协议，实现路由层高可用保障。
    * 高可用性可由多条成本路径提供
    * 使用网关负载平衡协议（GLBP）、热备份路由器协议（HSRP）或虚拟路由器冗余协议（VRRP）提供缺省的网关冗余
* 接入层
  * 硬件冗余
    * 冗余引擎和冗余电源获得系统级冗余
  * 路径冗余
    * 双归属连接，获得默认网关冗余，支持在汇聚层的主备交换机间快速实现故障切换。

### 三角连接方式的优缺点
* 优点：故障收敛时间小
* 缺点：会占用更多的设备端口，建网成本较高
### IPv4到IPv6的三种过渡技术
* 双协议栈：使IPV6网络节点具有一个IPv6协议栈和一个IPv4协议栈，同时支持IPv4和IPv6协议的处理
* 隧道技术：为了保持现有IPv4网络的投资成本，以及现有业务提供的持续性，需在现有的IPv4网络基础上实现IPv6网络的构建。在IPv4和IPv6融合组网时通常采用ISATAP隧道、6to4隧道、4over6隧道等。
* 网络地址翻译技术：网络地址翻译（Network Address Translator）技术将IPv4地址和IPv6地址分别看作内部地址和外部地址，或者相反，已实现地址转换。

### 实施网络安全控制的相关技术
* 防火墙部署：防火墙是设置在两个或多个网络之间的安全屏障，用于保障本地网络资源的安全。
* VPN（Virtual Private Network）：利用公共网络来建立私有专用网络的一种技术。
* 访问控制技术：网络的发展为信息共享提供了便利，同时也给敏感信息任意访问带来潜在风险。
* 网络安全隔离：是在网络运行过程中将网络攻击隔离在可信网络范围之外，同时保证可信网络内的信息不泄漏。
* 网络安全协议：SSL、SET、HTTPS等。
* 网络安全审计：对网络的脆弱性进行测试评估和分析，最大限度保障业务的安全正常运行的一切行为和手段。

冗余机制

### 核心层
* 高速数据交换，实现高速数据传输、出口路由，常用冗余机制。
* 连接internet
#### 硬件冗余
* 双核心或多核心设备
* 单台设备：选用交换性能高和可靠性高的设备，支持主控、电源冗余设计，具备分布式转发特征，降低设备复杂度，减少出错概率。
#### 接入线路冗余
* 以主备或负载分担方式工作
* 只使用硬件加速业务的高速第三层（L3）交换环境，发生在链路或节点故障时提供更快的收敛速度
* 尽量使用点到点（三角形）L3互联，提供最快速和确定的收敛结果。
### 汇聚层
* 网络访问策略控制
* 数据包处理和过滤
* 策略路由
* 广播域的定义
* 寻址
#### 硬件冗余
具备冗余系统
#### 接入线路冗余
* 到核心层间采用OSPF等动态路由协议，实现路由层高可用保障。
* 高可用性可由多条成本路径提供
* 使用网关负载平衡协议（GLBP）、热备份路由器协议（HSRP）或虚拟路由器冗余协议（VRRP）提供缺省的网关冗余
### 接入层
* 主要针对用户端，实现用户接入（如拨号上网），计费管理，MAC地址认证，MAC地址过滤，收集用户信息。
#### 硬件冗余
冗余引擎和冗余电源获得系统级冗余
#### 接入线路冗余
双归属连接，获得默认网关冗余，支持在汇聚层的主备交换机间快速实现故障切换。


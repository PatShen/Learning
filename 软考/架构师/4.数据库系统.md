```
SQL 语句
SELECT
GRANT
GROUP BY
```
上午：4'

# 数据库概述 1'
## 数据库模式
> 比较理想化，实际使用不多。纯概念考察

三级模式
* 内模式：文件级别（存储模式）
* 概念模式：表级别（逻辑模式）
* 外模式：视图级别（用户模式）

两级映射关系，分别保障了数据的独立性：
* 逻辑独立性
* 物理独立性

聚簇索引
* 会修改存储顺序，会影响内模式

## 分布式数据库
> 多个物理节点存放数据库（数据在多个物理节点存放）
>
> 副本，冗余提高，也提高可用性、数据持久性。
>
> 提高性能：多副本可读，就近读取

* 可用性：当一个节点故障，其他节点依旧可用。系统整体仍然可用
* 自治性：每个节点可以自己管理自己，具有局部数据库
* 共享性：节点之间共享数据
* 分布性：不同场地存储

* 全局概念模式：数据库的逻辑结构（也可以叫做全局逻辑模式）
* 全局外模式：应用程序直接调用的部分
* 分片模式
  * 水平分片：满足某筛选条件的数据，放在同一个物理节点上
  * 垂直分片：核心字段放在一个节点，其他字段放在其他节点
* 分布模式
  * 考虑把分片放到哪里
  * 副本机制
 
* 数据独立性
* 集中与自治共享结合的控制结构
* 适当增加数据冗余度
* 全局的一致性、可串性和可恢复性

### 透明性分类
> 透明性：用户不关心

* 分片透明：不关心数据分不分片、怎么分片
* 位置透明：不关心数据存放在何处（物理位置）
* 复制透明：不关心各个节点数据的复制与同步更新
* 逻辑透明：不关心局部DBMS支持哪种数据模型、使用哪种语言

> 用户不必关心数据是如何分块存储的：分片透明

```
考点：
1.分布式数据库的特点：分布性、可用性、自治性、共享性
2.分片方式
3.透明性分类
4.体系结构
```

### 两阶段提交协议 2PC

* 2PC事务提交的两个阶段
  * 表决阶段：形成共同的决定
  * 执行阶段，实现前一阶段的决定
* 两条全局提交规则
  * 只要有一个参与者撤销事务，协调者就必须做出`全局撤销`的决定
  * 只有所有参与者都同意提交事务，协调者才能做出`全局提交`的决定


# 数据库设计过程（阶段）1‘

* 需求分析：考虑当前、未来的需求
  * 数据流图
  * 数据字典
  * 需求说明书
* 概念结构设计
  * E-R 模型：实体-关系模型（Entity-Relationship）
  * 概念模型
* 逻辑结构设计
  * 数据库表
  * 关系模式：可以直接转化为二维表
    * E-R模型转换规则
    * 规范化理论
* 物理设计

# 关系代数 3'
# 规范化理论 3'
# 数据控制 1'
